<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Share from Phone</title>

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #f5f5f5;
}

.card {
    padding: 20px;
    text-align: center;
    width: 90%;
    max-width: 400px;
}
</style>
</head>

<body>

<div class="card shadow">
    <h5>Pick Image from Phone</h5>

    <!-- Phone Gallery ONLY (no upload) -->
    <input
        type="file"
        id="imageInput"
        accept="image/*"
        class="form-control mb-3"
    >

    <img id="preview" style="max-width:100%; display:none; margin-bottom:10px;" />

    <button class="btn btn-success btn-block" id="shareBtn">
        Share
    </button>
</div>

<script>
let selectedFile = null;

// Access phone gallery
document.getElementById('imageInput').addEventListener('change', function (e) {
    selectedFile = e.target.files[0];
    if (!selectedFile) return;

    // Preview only (local memory)
    const preview = document.getElementById('preview');
    preview.src = URL.createObjectURL(selectedFile);
    preview.style.display = 'block';
});

// Share directly from phone (no upload)
document.getElementById('shareBtn').addEventListener('click', async () => {
    if (!selectedFile) {
        alert("Please select an image first");
        return;
    }

    if (!navigator.share || !navigator.canShare({ files: [selectedFile] })) {
        alert("Sharing not supported on this device");
        return;
    }

    await navigator.share({
        title: 'Siffin Metals',
        text: 'Sharing image from phone',
        files: [selectedFile]
    });
});
</script>

</body>
</html>
